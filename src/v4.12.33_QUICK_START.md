# Wiki Advanced Filters v4.12.33 - Quick Start ‚ö°

## üöÄ 3-Step Deployment

### Step 1: Run Migration (2 min)
```bash
# Open Supabase Dashboard > SQL Editor
# Copy-paste entire file:
/supabase/migrations/076_wiki_advanced_filters_and_metrics.sql

# Click "Run"
# ‚úÖ Should see success message
```

### Step 2: Verify Database (1 min)
```sql
-- Quick check in SQL Editor:
SELECT 
  title,
  character_count,
  storage_size,
  format_storage_size(storage_size) as size_formatted,
  last_edited_at,
  rag_access_types
FROM wiki_articles_browoko
LIMIT 3;

-- Should show new columns with data ‚úÖ
```

### Step 3: Test Frontend (2 min)
```bash
# No build needed - already deployed!
# Just refresh browser:

1. Go to: Admin > Learning Management > Wiki Tab
2. Click "Erweitert" filter tab
3. Select RAG types, set ranges, pick dates
4. ‚úÖ Articles should filter
5. Click article card - see character/storage badges
6. Open Create/Edit dialog - RAG section is collapsible
```

---

## üéØ Quick Test Scenarios

### Test 1: RAG Type Filter
```
‚úÖ Go to Advanced filters
‚úÖ Check "Intern Wiki" + "Website RAG"
‚úÖ Results should show only articles with those RAG types
```

### Test 2: Size Filter
```
‚úÖ Set "Min. Zeichen: 500"
‚úÖ Set "Max. Zeichen: 5000"
‚úÖ Results should show only medium-sized articles
```

### Test 3: Date Filter
```
‚úÖ Set "Erstellt nach: 2025-01-01"
‚úÖ Results should show only recent articles
```

### Test 4: Collapsible
```
‚úÖ Open "Wiki-Artikel erstellen"
‚úÖ Click RAG Access section - should collapse/expand
‚úÖ Badge shows "X ausgew√§hlt"
```

---

## üêõ Troubleshooting

### Migration fails?
```bash
# Check if columns already exist:
SELECT column_name 
FROM information_schema.columns 
WHERE table_name = 'wiki_articles_browoko'
AND column_name IN ('last_edited_by', 'character_count', 'storage_size');

# If exists: Migration already ran ‚úÖ
```

### Filters not working?
```bash
# Open Browser Console (F12)
# Check for errors
# Verify network requests show filter params
```

### Badges not showing?
```bash
# Check migration ran:
SELECT character_count, storage_size 
FROM wiki_articles_browoko 
LIMIT 1;

# If NULL: Run backfill in migration again
```

---

## ‚úÖ Success Checklist

- [ ] Migration executed without errors
- [ ] New columns visible in database
- [ ] "Erweitert" tab visible in UI
- [ ] RAG type checkboxes work
- [ ] Character/Storage filters work
- [ ] Date filters work
- [ ] Reset button works
- [ ] Badges show in article cards
- [ ] Collapsibles work in dialogs
- [ ] No console errors

---

## üìä Quick Stats Query

```sql
-- See your wiki metrics:
SELECT 
  COUNT(*) as total_articles,
  AVG(character_count) as avg_characters,
  SUM(storage_size) as total_storage_bytes,
  format_storage_size(SUM(storage_size)) as total_storage,
  COUNT(*) FILTER (WHERE 'WEBSITE_RAG' = ANY(rag_access_types)) as website_articles,
  COUNT(*) FILTER (WHERE 'HOTLINE_RAG' = ANY(rag_access_types)) as hotline_articles
FROM wiki_articles_browoko;
```

---

**Total Time: ~5 minutes** ‚ö°  
**Status:** ‚úÖ Ready to use  
**Version:** v4.12.33
