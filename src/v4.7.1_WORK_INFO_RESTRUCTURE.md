# v4.7.1 - ARBEITSINFORMATIONEN RESTRUCTURE

## ÄNDERUNGEN:

Die große "Arbeitsinformationen" Card wird in 3 Bereiche aufgeteilt:

### 1. **FIRMENINFORMATIONEN** (Company Info)
- Arbeits-E-Mail-Adresse
- Position
- Abteilung
- Standort
- Arbeitstelefonnummer

### 2. **VERTRAGSINFORMATIONEN** (Contract Info)
- Beschäftigungsart
- Personalnummer
- Wochenstunden
- Eintrittsdatum
- Vertragsstatus
- Wiedereintrittsdatum
- Probezeit
- Pausenregelung (Auto/Manuell)
- Zeitmodell (Schicht/Gleitzeit/Bereitschaft)
- Zusatz Zeitkonditionen (Rufbereitschaft)

### 3. **SONDERREGELUNGEN** (Special Regulations) - NEU!
- Mehrere hinzufügbar
- Typ-Auswahl:
  - Firmenwagen
  - Fahrtkosten
  - Urlaub
  - Sonstige (mit Freitextfeld)

## SQL MIGRATION:

```sql
-- Migration 058: Special Regulations
ALTER TABLE users 
ADD COLUMN IF NOT EXISTS special_regulations JSONB DEFAULT '[]'::jsonb;

CREATE INDEX IF NOT EXISTS idx_users_special_regulations 
ON users USING GIN (special_regulations);
```

## DATENSTRUKTUR:

```typescript
special_regulations: [
  {
    type: 'company_car' | 'travel_expenses' | 'vacation' | 'other',
    custom_description?: string,  // Nur bei type='other'
    notes?: string
  }
]
```

## BEISPIEL:

```json
[
  {
    "type": "company_car",
    "notes": "BMW 3er Limousine"
  },
  {
    "type": "travel_expenses",
    "notes": "Pauschal 0,30€/km"
  },
  {
    "type": "other",
    "custom_description": "Home Office Ausstattung",
    "notes": "Laptop, Monitor, ergonomischer Stuhl"
  }
]
```

## DEPLOYMENT:

1. **SQL Migration** ausführen (058_special_regulations.sql)
2. **Frontend** deployen
3. **Testen** ob Sonderregelungen hinzugefügt/entfernt werden können
