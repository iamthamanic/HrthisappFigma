# Wiki Edit Feature - Quick Test Guide v4.12.21

## ğŸ¯ Schnelltest: 5 Minuten

### âœ… Test 1: Basic Edit (2 Min)
```
1. Login als Admin
2. Navigiere: Admin â†’ Lernverwaltung â†’ Wiki Tab
3. Suche beliebigen Wiki-Artikel
4. Click Edit-Button (âœï¸ Stift-Icon)
5. âœ… Dialog Ã¶ffnet mit vorausgefÃ¼llten Daten
6. Ã„ndere Titel: FÃ¼ge " (Aktualisiert)" hinzu
7. Click "Speichern"
8. âœ… Toast: "Wiki-Artikel aktualisiert!"
9. âœ… Dialog schlieÃŸt automatisch
10. âœ… Artikel zeigt neuen Titel mit "(Aktualisiert)"
```

**Erwartet**: 
- âœ… Edit-Dialog Ã¶ffnet sofort
- âœ… Alle Felder sind vorausgefÃ¼llt
- âœ… Speichern funktioniert
- âœ… Ã„nderungen sind sichtbar

---

### âœ… Test 2: Pre-fill Validation (1 Min)
```
1. Artikel mit Assignments auswÃ¤hlen (z.B. hat IT + Berlin)
2. Click Edit
3. âœ… Im "Abteilungen" Bereich: IT ist checked
4. âœ… Im "Standorte" Bereich: Berlin ist checked
5. âœ… Spezialisierungen als blaue Tags angezeigt
```

**Erwartet**:
- âœ… Alle vorherigen Assignments sind sichtbar
- âœ… Checkboxen korrekt gesetzt
- âœ… Tags korrekt angezeigt

---

### âœ… Test 3: User View Unchanged (1 Min)
```
1. Navigiere: Lernzentrum â†’ Wiki Tab (User-View)
2. âœ… Keine Edit/Delete Buttons sichtbar
3. âœ… Nur "Artikel ansehen" Button
4. Click "Artikel ansehen"
5. âœ… View-Dialog Ã¶ffnet (Read-Only)
```

**Erwartet**:
- âœ… User haben KEINE Edit-Rechte
- âœ… View-Only Modus funktioniert

---

### âœ… Test 4: Validation (1 Min)
```
1. Ã–ffne Edit-Dialog
2. LÃ¶sche Titel komplett
3. Click "Speichern"
4. âœ… Toast: "Bitte Titel eingeben"
5. âœ… Dialog bleibt offen
6. Gib Titel ein, lÃ¶sche Content komplett
7. Click "Speichern"
8. âœ… Toast: "Bitte Inhalt eingeben"
```

**Erwartet**:
- âœ… Validierung funktioniert
- âœ… Hilfreiche Fehlermeldungen
- âœ… Dialog bleibt offen bei Fehler

---

## ğŸ› Bekannte Limitierungen

### Attachments
- â„¹ï¸ **Edit-Dialog zeigt Attachments Read-Only**
- â„¹ï¸ Keine MÃ¶glichkeit, Attachments zu lÃ¶schen/hinzuzufÃ¼gen
- â„¹ï¸ Info-Text im Dialog erklÃ¤rt dies

### Workaround
```
Um Attachments zu Ã¤ndern:
1. Artikel im Edit-Dialog anpassen
2. Speichern
3. Falls neue Attachments nÃ¶tig: 
   - Neuen Artikel erstellen mit Attachments
   - Alten Artikel lÃ¶schen (optional)
```

---

## ğŸš¨ HÃ¤ufige Probleme

### Problem: Edit-Button zeigt Toast "kommt bald"
**Ursache**: v4.12.20 noch aktiv  
**LÃ¶sung**: Cache leeren + Seite neu laden
```bash
# Chrome/Edge
Ctrl + Shift + R (Windows)
Cmd + Shift + R (Mac)
```

### Problem: Dialog zeigt leere Felder
**Ursache**: `article` prop ist `null`  
**LÃ¶sung**: Check Console Logs
```javascript
// LearningManagementScreen.tsx
console.log('Selected article:', selectedWikiArticle);
```

### Problem: Speichern schlÃ¤gt fehl
**Ursache**: RLS Policy oder Netzwerk  
**LÃ¶sung**: Check Browser Console + Network Tab
```
Expected Response: 200 OK
Expected Body: Updated WikiArticle
```

---

## ğŸ“Š Success Metrics

Nach Test sollte:
- âœ… Mindestens 1 Artikel erfolgreich bearbeitet
- âœ… Pre-fill funktioniert bei allen Feldern
- âœ… Validierung greift bei leeren Feldern
- âœ… User-View bleibt View-Only

---

## ğŸ‰ Test erfolgreich?

**Ja** âœ…
- Weiter mit normalem Betrieb
- Feature ist production-ready

**Nein** âŒ
- Check Browser Console fÃ¼r Errors
- Check Network Tab fÃ¼r API Calls
- Kontaktiere Dev-Team mit Screenshots

---

**Version**: 4.12.21  
**Test Duration**: ~5 Minuten  
**Status**: Ready for Production
